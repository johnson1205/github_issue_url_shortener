(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{6941:(e,t,s)=>{Promise.resolve().then(s.bind(s,4242))},4242:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5155),r=s(2115),n=s(4505);let l=(0,s(3394).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var i=s(9958);function c(){let[e,t]=(0,r.useState)(!0),[s,c]=(0,r.useState)(""),[o,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),[x,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=window.location.pathname.split("/").filter(Boolean),s=e[e.length-1];s&&/^[0-9a-zA-Z]+$/.test(s)?(m(s),f(s,"")):t(!1)},[]);let f=async(e,s)=>{try{let t=(0,i.D4)(e),a=await (0,i.AP)(s,t);if(a){window.location.href=a;return}}catch(e){console.log("Optimistic lookup failed, requiring token."),h(!0),t(!1)}},p=async e=>{if(e&&e.preventDefault(),o&&x){t(!0),c("");try{await f(x,o)}catch(e){c("Failed to access link. Check token or validity."),t(!1)}}};return e&&!d?(0,a.jsx)("div",{className:"premium-bg flex items-center justify-center h-screen",children:(0,a.jsx)(n.A,{className:"w-10 h-10 animate-spin text-blue-500"})}):x?(0,a.jsx)("div",{className:"premium-bg flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"glass-panel w-full max-w-md p-8 rounded-2xl text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Redirecting..."}),e?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(n.A,{className:"w-10 h-10 animate-spin text-blue-500"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Fetching destination..."})]}):(0,a.jsxs)("div",{className:"animate-fade-in",children:[(0,a.jsxs)("div",{className:"mb-6 text-gray-300",children:[(0,a.jsxs)("p",{className:"mb-2",children:["This link (`",x,"`) belongs to a private database."]}),(0,a.jsx)("p",{children:"Please enter your GitHub Token to access."})]}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"password",placeholder:"Paste Token Here",value:o,onChange:e=>u(e.target.value),className:"input-field text-center",autoFocus:!0})}),s&&(0,a.jsxs)("div",{className:"text-red-400 text-sm flex items-center justify-center gap-2",children:[(0,a.jsx)(l,{className:"w-4 h-4"})," ",s]}),(0,a.jsx)("button",{type:"submit",disabled:!o,className:"btn-primary",children:"Go to Link"})]})]})]})}):(0,a.jsxs)("div",{className:"premium-bg flex flex-col items-center justify-center h-screen text-center p-4",children:[(0,a.jsx)("h1",{className:"text-6xl font-bold mb-4",children:"404"}),(0,a.jsx)("p",{className:"text-xl text-gray-400 mb-8",children:"Page Not Found"}),(0,a.jsx)("a",{href:"/short_url",className:"text-blue-400 hover:underline",children:"Go back home"})]})}},9958:(e,t,s)=>{"use strict";s.d(t,{AP:()=>d,D4:()=>o,Ko:()=>u,lF:()=>c});var a=s(5759);let r="johnson1205",n="github_issue_url_shortener",l="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=l.length;function c(e){if(0===e)return l[0];let t="";for(;e>0;)t=l[e%i]+t,e=Math.floor(e/i);return t.padStart(6,l[0])}function o(e){let t=0;for(let s=0;s<e.length;s++){let a=e[s],r=l.indexOf(a);if(-1===r)throw Error("Invalid character: ".concat(a));t=t*i+r}return t}async function u(e,t){let s=new a.Eg({auth:e}),{data:l}=await s.rest.issues.create({owner:r,repo:n,title:"URL Shortener Entry",body:t});return l.number}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,s=new a.Eg(e?{auth:e}:{});try{let{data:e}=await s.rest.issues.get({owner:r,repo:n,issue_number:t});return e.body||""}catch(e){throw console.error("Error fetching issue:",e),e}}}},e=>{var t=t=>e(e.s=t);e.O(0,[727,441,517,358],()=>t(6941)),_N_E=e.O()}]);